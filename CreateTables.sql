CREATE TABLE teams ( name varchar(50) NOT NULL DEFAULT '', password char(64) DEFAULT NULL, PRIMARY KEY (name), UNIQUE KEY name (name) );
CREATE TABLE users ( username varchar(50) NOT NULL DEFAULT '', password char(64) DEFAULT NULL, teamName varchar(50) DEFAULT NULL, isSuper tinyint(1) DEFAULT NULL, PRIMARY KEY (username), UNIQUE KEY username (username), FOREIGN KEY (teamName) REFERENCES teams(name) );
CREATE TABLE tasks ( name varchar(50) NOT NULL, evaluatorView varchar(50) DEFAULT NULL, task_variant varchar(100) DEFAULT NULL );
CREATE TABLE datasets ( name varchar(50) NOT NULL DEFAULT '', task varchar(50) NOT NULL, FOREIGN KEY (task) REFERENCES tasks(name) );
CREATE TABLE taskvariants ( name varchar(100) DEFAULT NULL, task_name varchar(50) DEFAULT NULL, FOREIGN KEY (task_name) REFERENCES tasks(name) );
CREATE TABLE taskMappings ( name varchar(50) DEFAULT NULL, task_name varchar(50) DEFAULT NULL, task_variant varchar(100) DEFAULT NULL, FOREIGN KEY (task_name) REFERENCES tasks(name) );
CREATE TABLE textannotations ( textAnnotation mediumtext, dataset_name varchar(50) DEFAULT NULL, FOREIGN KEY (dataset_name) REFERENCES datasets(name) );
CREATE TABLE configurations ( id int(11) NOT NULL AUTO_INCREMENT, datasetName varchar(20) DEFAULT NULL, teamName varchar(50) DEFAULT NULL, description varchar(150) DEFAULT NULL, evaluator varchar(50) DEFAULT NULL, taskType varchar(50) DEFAULT NULL, taskVariant varchar(100) DEFAULT NULL, lastUpdated timestamp NOT NULL DEFAULT '0000-00-00 00:00:00', team_name varchar(50) DEFAULT NULL, PRIMARY KEY (id), UNIQUE KEY teamName (teamName), FOREIGN KEY (team_name) REFERENCES teams(name));
CREATE TABLE records ( configuration_id int(11) NOT NULL, record_id int(11) NOT NULL AUTO_INCREMENT, url varchar(250) DEFAULT NULL, date timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, comment varchar(150) DEFAULT NULL, repo varchar(250) DEFAULT NULL, author varchar(20) DEFAULT NULL, recall double DEFAULT NULL, f1 double DEFAULT NULL, gold_count int(11) DEFAULT NULL, correct_count int(11) DEFAULT NULL, predicted_count int(11) DEFAULT NULL, missed_count int(11) DEFAULT NULL, extra_count int(11) DEFAULT NULL, precision_score double DEFAULT NULL, isRunning tinyint(1) DEFAULT NULL, avgSolveTime double DEFAULT NULL, PRIMARY KEY (record_id), FOREIGN KEY (configuration_id) REFERENCES configurations(id) );
