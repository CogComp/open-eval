@(viewModel: models.AddConfigurationViewModel)

<!DOCTYPE html>

<html lang="en">
    <head>
        <script type="text/javascript">
        var tvs = {
         @for((k,v) <- viewModel.task_variants) {
          "@k":
          @for(l<-v) {
            ' <option value="@l">@l</option>'+
          }
          ' ',
         }
        }

        var evs = {
          @for((k,v) <- viewModel.evaluators) {
            "@k":
            @for(l<-v) {
              ' <option value="@l">@l</option>'+
            }
            ' ',
          }
        };

        function alter_tv(selected) {
          var s = document.getElementById('ds').children[selected].innerHTML;
          document.getElementById('tv').innerHTML = tvs[s];
        }

        function alter_ev(selected) {
          var s = document.getElementById('tv').children[selected].innerHTML;
          document.getElementById('ev').innerHTML = evs[s];
        }
        </script>
    </head>
    <body>
        <div class="body">
            @header()
            <form action="submitConfiguration" method="post" id="usrform">
              <table class="table" style="width: 40%;">
                <thead>
                  <tr>
                    <th class="col-md-2"></th>
                    <th class="col-md-2"></th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      Configuration name:
                    </td>
                    <td>
                       <input type="text" name="configurationname">
                    </td>
                  </tr>
                  <tr>
                    <td>
                      Description:
                    </td>
                    <td>
                       <textarea name="description" form="usrform"></textarea>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      Dataset:
                    </td>
                    <td>
                      <select name="dataset" onchange="alter_tv(this.selectedIndex);" id="ds">
                        @for(dataset <- viewModel.datasets) {
                          <option value="@dataset">@dataset</option>
                        }
                      </select>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      Task variant (sub-domain):
                    </td>
                    <td>
                      <select name="taskvariant" onchange="alter_ev(this.selectedIndex);" id="tv">
                        @for(task_variant <- viewModel.task_variants.get("dataset A")) {
                          <option value="@task_variant">@task_variant</option>
                        }
                      </select>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      Evaluator:
                    </td>
                    <td>
                       <select name="evaluator" id="ev">
                        @for(evaluator <- viewModel.evaluators.get("task_variant AA")) {
                          <option value="@evaluator">@evaluator</option>
                        }
                      </select>
                    </td>
                  </tr>
                </tbody>
              </table>
              <input type="submit">
            </form>
        </div>
    </body>
</html>
